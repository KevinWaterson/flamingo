{{define "admin"}}
{{template "adminHeader" .}}
<div class="container">

<div class="panel panel-default">

<div class="panel-heading">
  <div class="text-muted bootstrap-admin-box-title">User Admin</div>
</div>

<div class="mytab bootstrap-admin-panel-content">

<div class="mytab" id="tabs">
  <ul>
    <li><a href="#fragment-1">Users</a></li>
    <li><a href="#fragment-2">Groups</a></li>
<!--    <li><a href="#fragment-3">Whateva</a></li> -->
  </ul>
  <div id="fragment-1">
 <div class="panel panel-default">

<div class="panel-heading">
  <div class="text-muted bootstrap-admin-box-title">Users</div>
</div>

<div class="bootstrap-admin-panel-content">
<table class="table table-hover" id="userAdminTable">
<thead>
<tr>
<th>#</th>
<th>Email</th>
<th></th>
<th></th>
<th><button type="button" class="btn btn-default" onclick="confirmation" onclick="location.href = 'http://{{.HostName}}/reports/admin/user/add';"><i class="glyphicon glyphicon-user glyphicon-white"></i> Add</button></th>
</tr>
</thead>
<tbody>

{{range .Users}}
<tr>
<td>{{.Id}}</td>
<td>{{.Email}}</td>
<td><button type="button" class="btn btn-xs btn-primary" onclick="location.href = 'http://{{$.HostName}}/admin/user/groups?id={{.Id}}';"><i class="glyphicon glyphicon-user glyphicon-white"></i> Groups</button></td>
<td><button type="button" class="btn btn-xs btn-warning"><i class="glyphicon glyphicon-pencil glyphicon-white"></i> Edit</button></td>


<td><a href="#myModal" data-toggle="modal" class="confirm-delete btn button-xs btn-danger" data-href="http://{{$.HostName}}/reports/admin/user/del?id=" data-id="{{.Id}}"><i class="glyphicon glyphicon-remove glyphicon-white"></i> Delete</a></td>
<!-- <td><button type="button" class="btn btn-xs btn-danger" onclick="location.href = 'http://{{$.HostName}}/reports/admin/user/del?id={{.Id}}';"><i class="glyphicon glyphicon-remove glyphicon-white"></i> Delete</button></td> -->
</tr>
{{end}}

</tbody>
</table>
</div>
</div>

</div><!-- end fragment-1 -->
  <div id="fragment-2">
  <div class="panel panel-default">

<div class="panel-heading">
  <div class="text-muted bootstrap-admin-box-title">Groups</div>
</div>

<div class="bootstrap-admin-panel-content">
<table class="table table-hover" id="userGroupTable">
<thead>
<tr>
<th>#</th>
<th>Group Name</th>
<th>Description</th>
<th></th>
<th><button type="button" class="btn btn-default" onclick="confirmation" onclick="location.href = 'http://{{.HostName}}/admin/group/add';"><i class="glyphicon glyphicon-user glyphicon-white"></i> Add</button></th>
</tr>
</thead>
<tbody>

{{range .Groups}}
<tr>
<td>{{.Id}}</td>
<td>{{.Name}}</td>
<td>{{.Description}}</td>
<td><button type="button" class="btn btn-xs btn-warning"><i class="glyphicon glyphicon-pencil glyphicon-white"></i> Edit</button></td>
<td><button type="button" class="btn btn-xs btn-danger"><i class="glyphicon glyphicon-remove glyphicon-white"></i> Delete</button></td>
</tr>
{{end}}

</tbody>
</table>
</div>
</div>

<div id="demo"></div>
  </div><!-- end fragment 2 -->
<!--
  <div id="fragment-3">
    Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.
  </div>
-->

</div>

</div>
</div>

<div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
	<div class="modal-content">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h4 id="myModalLabel" class="modal-title close" data-dismiss="modal" >Delete User</h4>
	</div>
	<div class="modal-body">
		<p>Are you sure you want to delete this user?</p>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-default" data-dismiss="modal">No</button>
		<button type="button" id="btnYes" class="btn btn-primary">Delete</button>
	</div>
</div> <!-- end modal-content -->
</div> <!-- end modal-dialog -->
</div> <!-- end myModal -->

</div><!-- end container -->
{{template "adminFooter" .}}
{{end}}
